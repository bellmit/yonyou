<div class="dms-edit ajaxrest" 
	data-model="manage">
	<!-- BEGIN FORM-->
	<form class="form-horizontal">		
		<div class="panel panel-default table-panel">
				<div class="panel-body">
					<table
						class="table table-striped table-bordered table-hover table-responsive"
						id="bSPDtoList">
					</table>
				</div>
		</div>
</form>
</div>

<script type="text/javascript">
	
	$(document).one("onload.dms",function(event,container){
		var roNo=$("#roNo",getElementContext()).val();
		new Datatable().initLocale({
			src : "bSPDtoList",
			container:container,
			rowID:"ITEM_ID",
			sortName : "ITEM_ID", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
			sortOrder : "asc",
			height : 250,
			columns : [
			           {field : "STORAGE_CODE",title : "仓库代码"},
                       {field : "STORAGE_NAME",inputField:"STORAGE_NAME",title : "仓库名称"},
                       {field : "PART_NO",inputField:"PART_NO",title : "配件代码"}, 
			           {field : "PART_NAME",inputField:"PART_NAME",inputHiddenFormat : {},title : "配件名称"},
			           {field : "PART_QUANTITY",inputField:"PART_QUANTITY",inputHiddenFormat : {},title : "配件销售数量",numberFormat : {decimal : 2}}, 			           
			           {field : "UNIT_CODE",title : "计量单位"},
			           {field : "PART_SALES_PRICE",inputField:"PART_SALES_PRICE",inputHiddenFormat : {},title : "配件销售单价",numberFormat : {decimal : 2}},   
			           {field : "PART_SALES_AMOUNT",inputField:"PART_SALES_AMOUNT",inputHiddenFormat : {},title : "配件销售金额",numberFormat : {decimal : 2}},
			           {field : "CALC_DISCOUNT_AMOUNT",title : "优惠金额"},
			           {field : "DISCOUNT",inputField:"DISCOUNT",inputNumberFormat : {decimal : 2},title : "折扣率"},  
			           {field : "CALC_REAL_RECEIVE_AMOUNT",inputField:"salesAmount",inputHiddenFormat : {},title : "实收金额",numberFormat : {decimal : 2}},
			           {field : "IS_DISCOUNT",title : "不可打折"}
			         ],
			         onLoadSuccess : function() {
							}
		});
		if(roNo!=""){
			$("#bSPDtoList",container).dmsTable().refreshUrl(dmsCommon.getDmsPath()["repair"] + "/feesSettlement/queryRoLabourByRoNO/"+roNo);
		};
	});

</script>
