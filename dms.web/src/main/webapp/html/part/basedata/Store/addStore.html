<div class="dms-add">
	<form class="form-horizontal">
		<div class="modal-header">
			<div class="modal-close">
				<a data-dismiss="modal" class="btn btn-lg"> <i
					class="fa fa-remove"></i></a>
			</div>
			<div class="modal-title">仓库信息新增</div>
		</div>
		<div class="modal-body">
    		<div class="panel panel-default">
				<div class="panel-body">
		            <div class="row">
				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="form-group">
						<label class="control-label col-xs-4">仓库代码</label>
						<div class="col-xs-8">
							<input id="storage_code" name="storage_code" maxlength="4" class="form-control required systemCode" type="text" />
						</div>
					</div>
				</div>

				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="form-group">
						<label class="control-label col-xs-4">仓库名称</label>
						<div class="col-xs-8">
							<input type="text" class="form-control required" maxlength="20" id="storage_name" name="storage_name">
					    </div>
					</div>
				</div>

				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="form-group">
						<label class="control-label col-xs-4">仓库类型</label>
						<div class="col-xs-8">
							<select  id="storage_type" name="storage_type" class="bs-select form-control" data-dictCode="1302" data-value="" >
							</select>
					    </div>
					</div>
				</div>
				
				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="form-group">
						<label class="control-label col-xs-4">订货周期</label>
						<div class="col-xs-8">
							<input type="text" class="form-control number decimal digits" maxlength="3" id="lead_time" name="lead_time">
					    </div>
					</div>
				</div>

				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="form-group">
						<label class="control-label col-xs-4">是否允许负库存</label>
						<div class="col-xs-8">
							<select  id="is_negative" name="is_negative" class="bs-select form-control" data-dictCode="1004" data-value="10041002" >
							</select>
						</div>
					</div>
				</div>

				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="form-group">
						<label class="control-label col-xs-4">是否有效</label>
						<div class="col-xs-8">
							<select  id="is_valid" name="is_valid" class="bs-select form-control" data-existsDefault="false" data-dictCode="1004" data-value="10041001"  >
							</select>
						</div>
					</div>
				</div>
				
				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="form-group">
						<label class="control-label col-xs-4">是否OEM</label>
						<div class="col-xs-8">
							<select  id="oem_tag" name="oem_tag"  class="bs-select form-control" disabled="disabled" data-existsDefault="false" data-dictCode="1004" data-value="10041002" >
							</select>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
		</div>
		<div class="modal-footer center-block">
			<a data-url="/basedata/store/Store" data-model="part" data-method="POST" data-callBack="true"  class="btn blue" data-toggle="confirmation" ><i
				class="fa fa-save" data-onclickEvent="true"></i>保存</a>
			<a data-dismiss="modal" class="btn blue"><i class="fa fa-undo"></i>取消</a>
		</div>
	</form>
</div>

<script type="text/javascript">
 $(document).one("onload.dms",function(event,container){
	 		
		 $("select[id^=is_negative]",container).bindChange(function(obj){
				 var selectValue=$("select[id^=is_negative]",container).val();
					if(selectValue =='10041001'){
						$("select[id^=is_negative]",container).attr("disabled","true");
					}else{
						$("select[id^=is_negative]",container).removeAttr("disabled");
					}
			});
		
	//新增页面的回调函数
		$("a[data-callBack='true']",container).on("callBack.dms",function(event,response){
			//关闭窗口
			$("a[data-dismiss='modal']",container).click();
			//刷新表格
			$("#dms_store",getElementContext()).dmsTable().refreshTableWithForm();
		});
	});
</script>
