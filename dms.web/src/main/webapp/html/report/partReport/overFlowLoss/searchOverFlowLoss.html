<div class="dms-search">
	<form class="form-horizontal">
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-4 ">
						<div class="form-group">
							<label class="control-label col-xs-4">开单日期</label>
							<div class="col-xs-8">
							<div class="input-group input-daterange">
		                             <input type="text" class="form-control" readonly  name="dateFrom" id="dateFrom">
		                             <span class="input-group-addon">至</span>
		                             <input type="text" class="form-control" readonly  name="dateTo" id="dateTo"><span
										class="input-group-btn">
										<button class="btn default date-set" type="button">
											<i class="fa fa-calendar"></i>
										</button>
										<!-- <button class="btn default input-clear" type="button">
	                                         <i class="fa fa-close"></i>
	                                    </button>  -->
									</span>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4">
						<div class="form-group" data-tableSelect="true">
							<label class="control-label col-xs-4">仓库</label>
							<div class="col-xs-8">
								<select id="storageCode" name="storageCode"
									class="bs-select form-control" data-ajaxSync = "true"
									data-url="/basedata/store/accessories/Warehouses" data-model="part" data-labelValue="STORAGE_CODE" data-lableDesc="STORAGE_NAME"></select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4">
						<div class="form-group" data-tableSelect="true">
							<label class="control-label col-xs-4">配件代码</label>
							<div class="col-xs-8">
								<input id="partNo" name="partNo" class="form-control"
									type="text"/>
							</div>
						</div>
					</div>
				</div>
				<div class="row ">
					<div class="col-xs-12 ">
						<div class="query-btn">
							<a href="javascript:;" class="btn blue"> <i
								class="fa fa-search"></i> 查询
							</a> <a href="javascript:;" class="btn blue"><i
								class="fa fa-undo"></i> 重置</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
	<div class="panel panel-default table-panel">
		<div class="panel-heading">
			<div class="pannel-name">报溢报损统计</div>
			<div class="pannel-button">
				<div class="btn-group btn-group-sm">
					<a data-url="/partReport/overflowloss/export"
						data-model="report" data-method="downLoad"
						data-toggle="confirmation" class="btn btn-sm btn-outline "><i
						class="fa fa-download"></i>导出 </a>
				</div>
			</div>
		</div>
		<div class="panel-body">
			<table
				class="table table-striped table-bordered table-hover table-responsive"
				id="dms_table"></table>
		</div>
	</div>
</div>
<script type="text/javascript">
$(document).one("onload.dms",function(event,container){
	   new Datatable().initPagination({
			src : "dms_table",
			url :dmsCommon.getDmsPath()["report"] + "/partReport/overflowloss",
			rowID : "ITEM_ID",
			sortName : "ITEM_ID", 
			sortOrder : "asc",
			columns:[
						{field:"STORAGE_NAME",title:"仓库"}, 
						{field:"STORAGE_POSITION_CODE",title:"库位"},
						{field:"PART_NO",title:"配件代码"},
						{field:"PART_NAME",title:"配件名称"},
						{field:"STOCK_QUANTITY",title:"库存数量"},
						{field:"COST_PRICE",title:"成本单价"},
						{field:"LOSS_AMOUNT",title:"盘亏金额"},
						{field:"LOSS_QUANTITY",title:"报损数量"},
						{field:"PROFIT_AMOUNT",title:"报溢金额"},
						{field:"PROFIT_QUANTITY",title:"报溢数量"},
						{field:"ORDER_DATE",title : "开单日期",dateFormat : {}}
			    	  ]
				});
	   });
</script>