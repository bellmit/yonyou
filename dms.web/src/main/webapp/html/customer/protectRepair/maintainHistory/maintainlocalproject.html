<div class="dms-search">
	<form class="form-horizontal">
		<div class="panel panel-default">
			<div class="panel-body">
				<!--/span-->
				<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
					<div class="form-group">
						<label class="control-label col-xs-4">项目代码</label>
						<div class="col-xs-8">
							<input type="text" class="form-control" id="labourCode"
								name="labourCode" />
						</div>
					</div>
				</div>
				<!-- /span -->
				<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
					<div class="form-group">
						<label class="control-label col-xs-4">项目名称</label>
						<div class="col-xs-8">
							<input type="text" class="form-control" id="labourName"
								name="labourName" />
						</div>
					</div>
				</div>
				<!-- /span -->
				<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
					<div class="form-group">
						<label class="control-label col-xs-4">维修类型</label>
						<div class="col-xs-8">
							<select id="repairTypeCode" class="bs-select form-control" name="repairTypeCode" 
							data-url="/customer/solicitude/repairType" data-model="customer" data-labelValue="REPAIR_TYPE_CODE" 
							data-lableDesc="REPAIR_TYPE_CODE" data-alwaysRefresh="true" data-ajaxSync="true" >
							</select>
							<input type="hidden" id="labourCode"/>
							<input type="hidden" id="labourName"/>
						</div>
					</div>
				</div> 
				<!-- /span -->
				<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
					<div class="form-group">
						<label class="control-label col-xs-4">进厂里程</label>
						<div class="col-xs-8">
							<div class="input-group">
								<input type="text" class="form-control digits" id="inMileage" name="inMileageFrom">
								<span class="input-group-addon">至</span> <input type="text"
									class="form-control digits" id="inMileage" name="inMileageTo">
							</div>
						</div>
					</div>
				</div>
				<!-- /span -->
				<div class="row">
					<div class="col-xs-12 ">
						<div class="query-btn">
							<a href="javascript:;" class="btn blue"> <i class="fa fa-search"></i>查询</a>
							<a data-dismiss="modal" class="btn blue"> <i class="fa fa-undo"></i>取消</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
	<div class="panel panel-default table-panel">
		<div class="panel-heading">
			<div class="pannel-name"></div>
			<div class="pannel-button">
				<div class="btn-group btn-group-sm"></div>
			</div>
		</div>
		<div class="panel-body">
			<table
				class="table table-striped table-bordered table-hover table-responsive"
				id="dms_localMaintainProject">
			</table>
		</div>
	</div>
</div>
<script type="text/javascript">
	$(document).one("onload.dms", function(event, container) {
		new Datatable().initPagination({
			src : "dms_localMaintainProject",
			rowID : "RO_NO",
			container : container,
			url : dmsCommon.getDmsPath()["customer"] + "/customer/solicitude/history",
			sortName : "RO_NO",//按照哪个字段来排序，在工具类里面有写sort
			sortOrder : "asc",//排序方式
			autoHeight : false,//自动高度
			isQueryFirst : false,
			undefinedText : "",
			columns : [ 
			{
				field : "DEALER_SHORTNAME",
				title : "经销商简称"
			}, {
				field : "RO_NO",
				title : "工单号"
			}, {
				field : "LABOUR_CODE",
				title : "项目代码"
			}, {
				field : "LABOUR_NAME",
				title : "项目名称"
			}, {
				field : "REPAIR_TYPE_CODE",
				title : "维修类型"
			}, {
				field : "IN_MILEAGE",
				title : "进厂里程",
				numberFormat : {decimal:2}
			}, {
				field : "MANAGE_SORT_CODE",
				title : "收费类别"
			}, {
				field : "CHARGE_PARTITION_CODE",
				title : "收费区别"
			}, {
				field : "TROUBLE_DESC",
				title : "检查结果"
			}, {
				field : "TROUBLE_CAUSE",
				title : "故障原因"
			}, {
				field : "STD_LABOUR_HOUR",
				title : "标准工时",
				numberFormat : {decimal:2}
			}, {
				field : "ASSIGN_LABOUR_HOUR",
				title : "派工工时",
				numberFormat : {decimal:2}
			}, {
				field : "LABOUR_PRICE",
				title : "工时单价",
				numberFormat : {decimal:2}
			}, {
				field : "DISCOUNT",
				title : "折扣率",
				numberFormat : {decimal:2}
			}, {
				field : "LABOUR_AMOUNT",
				title : "工时费",
				numberFormat : {decimal:2}
			}, {
				field : "WORKER_TYPE_CODE",
				title : "工种"
			}, {
				field : "ASSIGN_TAG",
				title : "派工标志",
				codeFormat : {
					type : "dict",
					codeType : "1278"
				}
			}, {
				field : "USER_NAME",
				title : "责任技师",inputHiddenFormat : {hiddenField:"SOLD_BY"}
			}, {
				field : "PRE_CHECK",
				title : "是否预捡",
				codeFormat : {
					type : "dict",
					codeType : "1278"
				}
			}, {
				field : "NEEDLESS_REPAIR",
				title : "是否不修",
				codeFormat : {
					type : "dict",
					codeType : "1278"
				}
			}, {
				field : "CONSIGN_EXTERIOR",
				title : "是否委外",
				codeFormat : {
					type : "dict",
					codeType : "1278"
				}
			}, {
				field : "INTER_RETURN",
				title : "是否内返",
				codeFormat : {
					type : "dict",
					codeType : "1278"
				}
			}, {
				field : "ACTIVITY_CODE",
				title : "活动编号"
			}, {
				field : "REMARK",
				title : "备注"
			}, {
				field : "LOCAL_LABOUR_CODE",
				title : "行管项目代码"
			}, {
				field : "LOCAL_LABOUR_NAME",
				title : "行管项目名称"
			},]
		});
	});
</script>