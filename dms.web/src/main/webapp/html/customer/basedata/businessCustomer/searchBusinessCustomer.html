<div class="dms-search">
	<form class="form-horizontal">
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="row ">
					<div class="col-xs-12 col-sm-6 col-md-4">
						<div class="form-group">
							<label class="control-label col-xs-4 ">业务往来客户类型</label>
							<div class="col-xs-8">
							<select id="customerTypeCode"
										class="bs-select form-control" name="customerTypeCode"
										 data-url="/basedata/businessCustomer/customersdict" data-model="customer"
									data-labelValue="CUSTOMER_TYPE_CODE" data-lableDesc="CUSTOMER_TYPE_NAME">
									</select>
							</div>
						</div>
					</div>
					<!--/span-->
					<div class="col-xs-12 col-sm-6 col-md-4">
						<div class="form-group">
							<label class="control-label col-xs-4">客户代码</label>
							<div class="col-xs-8 ">
								<input type="text" class="form-control" id="customerCode" name="customerCode">
							</div>
						</div>
					</div>
                       <div class="col-xs-12 col-sm-6 col-md-4">
						<div class="form-group">
							<label class="control-label col-xs-4">客户名称</label>
							<div class="col-xs-8 ">
								<input type="text" class="form-control" id="customerName" name="customerName">
							</div>
						</div>
					</div>

				</div>
				<div class="row ">
					<div class="col-xs-12 ">
						<div class="query-btn">
							<a href="javascript:;" class="btn blue"> <i
								class="fa fa-search"></i> 查询
							</a> <a href="javascript:;" class="btn blue"><i
								class="fa fa-undo"></i> 重置</a>

						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
	<div class="panel panel-default table-panel">
		<div class="panel-heading">
			<div class="pannel-name">业务往来客户</div>
			<div class="pannel-button">
				<div class="btn-group btn-group-sm">
					<a class="btn btn-outline"
						data-url="customer/basedata/businessCustomer/addBusinessCustomer.html"
						data-toggle="modal" data-width="modal-md"> <i
						class="fa fa-plus-square"></i> 新增
					</a>
					<a data-url="/basedata/businessCustomer/export/excel"
						data-model="customer" data-method="downLoad"
						data-toggle="confirmation" class="btn btn-outline "><i class="fa fa-download"></i>Excel
					</a>
				</div>
			</div>
		</div>
		<div class="panel-body">
			<table
				class="table table-striped table-bordered table-hover table-responsive"
				id="business_customer"></table>
		</div>
	</div>
</div>

<script type="text/javascript">
	$(document).one("onload.dms",function(event,container){
		new Datatable().initPagination({
			src : "business_customer",
			container:container,
			url : dmsCommon.getDmsPath()["customer"] + "/basedata/businessCustomer",
			rowID : "CUSTOMER_CODE",
			sortName : "CUSTOMER_CODE", 
			sortOrder : "asc",
			autoHeight : false,
			mergeTotal:{
				megerCellNumber:29,
				megerCellName:"合计"
			},
			columns : [ 
 			    {field : "CUSTOMER_CODE",title : "操作",operateFormat : [{type:"edit",url:"customer/basedata/businessCustomer/editBusinessCustomer.html",openWidth:"modal-lg",doubleClick:true}]},
			    {field : "CUSTOMER_CODE",title : "客户代码"}, 
				{field : "CUSTOMER_NAME",title : "客户名称"},
				{field : "CUSTOMER_SHORT_NAME",title : "客户简称"}, 
				{field : "CUSTOMER_SPELL",title : "客户拼音"},
				{field : "CUSTOMER_TYPE_NAME",title : "客户类型名称"}, 
				{field : "ADDRESS",title : "地址"},
				{field : "ZIP_CODE",title : "邮编"}, 
				{field : "FAX",title : "传真"},
				{field : "CONTACTOR_NAME",title : "联系人"}, 
				{field : "CONTACTOR_PHONE",title : "联系人电话"},
				{field : "CONTACTOR_MOBILE",title : "联系人手机"}, 
				{field : "BAL_OBJ_CODE",title : "结算对象代码"}, 
				{field : "BAL_OBJ_NAME",title : "结算对象名称"},
				{field : "PRICE_ADD_RATE",title : "加价率"}, 
				{field : "AGREEMENT_BEGIN_DATE",title : "签约开始日期",dateFormat : {format:"YYYY-MM-DD"}},
				{field : "AGREEMENT_END_DATE",title : "签约结束日期",dateFormat : {format:"YYYY-MM-DD"}}, 
				{field : "CONTRACT_NO",title : "合约编号"},
				{field : "PRICE_RATE",title : "价格系数"}, 
				{field : "SALES_BASE_PRICE_TYPE",title : "销售基价",codeFormat : {type:"dict",codeType:"1236"}},
				{field : "CREDIT_AMOUNT",title : "信用(元)"}, 
				{field : "ACCOUNT_TERM",title : "账期(天)"},
				{field : "TOTAL_ARREARAGE_TERM",title : "累计欠款(天)"},
				{field : "CUS_RECEIVE_SORT",title : "客户收款类别",codeFormat : {type:"dict",codeType:"1378"}},
				{field : "OEM_TAG",title : "OEM标志",codeFormat : {type:"dict",codeType:"1278"}}, 
				{field : "ACCOUNT_AGE",title : "账龄"},
				{field : "LEAD_TIME",title : "订货周期"}, 
				{field : "DEALER2_CODE",title : "经销商"},
				{field : "IS_VALID",title : "是否有效",codeFormat : {type:"dict",codeType:"1278"}},
				{field : "PRE_PAY",title : "预收款"},
				{field : "TOTAL_ARREARAGE_AMOUNT",title : "累计欠款(元)"},
				{field : "ARREARAGE_AMOUNT",title : "维修欠款"}
			]
		});
	});
	
</script>
