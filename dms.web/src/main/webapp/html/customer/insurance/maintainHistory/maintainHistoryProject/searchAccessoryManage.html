<div class="panel panel-default table-panel">
	<div class="panel-heading">
		<div class="pannel-name">辅料管理费</div>
		<div class="pannel-button">
			<div class="btn-group btn-group-sm"></div>
		</div>
	</div>
	<div class="panel-body">
		<table
			class="table table-striped table-bordered table-hover table-responsive"
			id="accessory_manage">
		</table>
	</div>
</div>
<script type="text/javascript">
$(document).one("onload.dms",function(event,container){
	//辅料管理费
	new Datatable().initPagination({
		src : "accessory_manage",
		container:container,
		rowID:"RO_NO",
		url : dmsCommon.getDmsPath()["customer"] + "/customer/insurance/maintainHistory/maintainHistoryProject/{[RO_NO]}/AccessoryManage",
		sortName : "RO_NO", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
		sortOrder : "asc",
		pageSize:5,
		autoHeight:false,
		columns : [
			    {field : "MANAGE_SORT_CODE",title : "收费类别代码"}, 
	            {field : "OVER_ITEM_AMOUNT",title : "管理费"},
	            {field : "LABOUR_AMOUNT_RATE",title : "工时率费"},
	            {field : "REPAIR_PART_RATE",title : "维修材料费率"}, 
	            {field : "SALES_PART_RATE",title : "销售材料率费"},
	            {field : "ADD_ITEM_RATE",title : "附加率费"}
		       ]
	});
	$("a[id='accessory_manage']",getElementContext()).on("dms.click",function(event){
		$("#accessory_manage",container).dmsTable().refreshUrl(dmsCommon.getDmsPath()["customer"] + "/customer/insurance/maintainHistory/maintainHistoryProject/"+$("#RO_NO").val()+"/AccessoryManage");
	 });
	 $("a[id='AccessoryManage']",getElementContext()).click();
		$("#RO_NO").bindChange(function(obj){
	    $("#accessory_manage",container).dmsTable().refreshUrl(dmsCommon.getDmsPath()["customer"] + "/customer/insurance/maintainHistory/maintainHistoryProject/"+$("#RO_NO").val()+"/AccessoryManage");
	});
});	
</script>