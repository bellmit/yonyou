<div class="panel panel-default table-panel">
	<div class="panel-heading">
		<div class="pannel-name">附加项目</div>
		<div class="pannel-button">
			<div class="btn-group btn-group-sm"></div>
		</div>
	</div>
	<div class="panel-body">
		<table
			class="table table-striped table-bordered table-hover table-responsive"
			id="accessory_project">
		</table>
	</div>
</div>
<script type="text/javascript">
$(document).one("onload.dms",function(event,container){
	//附加项目
	new Datatable().initPagination({
		src : "accessory_project",
		container:container,
		rowID:"RO_NO",
		url : dmsCommon.getDmsPath()["customer"] + "/customer/insurance/maintainHistory/maintainHistoryProject/{[RO_NO]}/AccessoryProject",
		sortName : "RO_NO", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
		sortOrder : "asc",
		pageSize:5,
		autoHeight:false,
		columns : [
			    {field : "MANAGE_SORT_CODE",title : "收费类别"}, 
	            {field : "CHARGE_PARTITION_CODE",title : "收费区分"},
	            {field : "ADD_ITEM_CODE",title : "附加项目代码"},
	            {field : "ADD_ITEM_NAME",title : "附加项目名称"}, 
	            {field : "ADD_ITEM_AMOUNT",title : "附加项目费"},
	            {field : "DISCOUNT_AMOUNT",title : "优惠金额"},
	            {field : "DISCOUNT",title : "折扣率"}, 
	            {field : "RECEIVE_AMOUNT",title : "实收金额"},
	            {field : "REMARK",title : "备注"},
		       ]
	});
	 $("a[id='accessory_project']",getElementContext()).on("dms.click",function(event){
		$("#accessory_project",container).dmsTable().refreshUrl(dmsCommon.getDmsPath()["customer"] + "/customer/insurance/maintainHistory/maintainHistoryProject/"+$("#RO_NO").val()+"/AccessoryProject");
	 });
	 $("a[id='AccessoryProject']",getElementContext()).click();
		$("#RO_NO").bindChange(function(obj){
	    $("#accessory_project",container).dmsTable().refreshUrl(dmsCommon.getDmsPath()["customer"] + "/customer/insurance/maintainHistory/maintainHistoryProject/"+$("#RO_NO").val()+"/AccessoryProject");
	}); 
});	
</script>