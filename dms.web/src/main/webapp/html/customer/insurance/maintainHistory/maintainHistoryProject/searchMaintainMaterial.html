<div class="panel panel-default table-panel">
		<div class="panel-heading">
			<div class="pannel-name">维修材料</div>
			<div class="pannel-button">
				<div class="btn-group btn-group-sm">
				
				</div>
			</div>
		</div>
		<div class="panel-body">
			<table
				class="table table-striped table-bordered table-hover table-responsive"
				id="maintain_material">
			</table>
		</div>
</div>
<script type="text/javascript">
$(document).one("onload.dms",function(event,container){
	//维修材料
	new Datatable().initPagination({
		src : "maintain_material",
		container:container,
		rowID:"RO_NO",
		url : dmsCommon.getDmsPath()["customer"] + "/customer/insurance/maintainHistory/maintainHistoryProject/{[RO_NO]}/MaintainMaterial",
		sortName : "RO_NO", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
		sortOrder : "asc",
		pageSize:5,
		autoHeight:false,
		columns : [
			{field : "MANAGE_SORT_CODE",title : "收费类别"}, 
            {field : "CHARGE_PARTITION_CODE",title : "收费区分"},
            {field : "STORAGE_CODE",title : "仓库代码"},
            {field : "PART_NO",title : "配件代码"}, 
            {field : "PART_NAME",title : "配件名称"},
            {field : "IS_MAIN_PART",title : "主要配件"},
            {field : "PART_QUANTITY",title : "配件数量"}, 
            {field : "UNIT_CODE",title : "计量单位"},
            {field : "PART_SALES_PRICE",title : "配件销售单价"},
            {field : "PART_SALES_AMOUNT",title : "配件销售金额"}, 
            {field : "PART_COST_PRICE",title : "配件成本单价"},
            {field : "PART_COST_AMOUNT",title : "配件成本金额"},	
            {field : "DISCOUNT_AMOUNT",title : "优惠金额"}, 
            {field : "DISCOUNT",title : "折扣率"},
            {field : "RECEIVE_AMOUNT",title : "实收金额"},
            {field : "IS_FINISHED",title : "是否入账"}, 
            {field : "",title : "收费类别"},
            {field : "",title : "发料人"},
            {field : "IS_DISCOUNT",title : "不可打折"}, 
            {field : "",title : "领料人"},
            {field : "NEEDLESS_REPAIR",title : "是否不修"},
            {field : "PRE_CHECK",title : "是否预检"}, 
            {field : "CONSIGN_EXTERIOR",title : "是否委外"},
            {field : "BATCH_NO",title : "流水号"},	
            {field : "PRINT_BATCH_NO",title : "预捡单打印流水号"},
            {field : "PACKAGE_CODE",title : "组合代码"},
            {field : "LABOUR_CODE",title : "维修项目代码"},
            {field : "MODEL_LABOUR_CODE",title : "维修车型分组代码"}, 
            {field : "ACTIVITY_CODE",title : "活动编号"},
            {field : "MAINTAIN_PACKAGE_CODE",title : "保养套餐代码"},
            {field : "PART_CATEGORY",title : "配件类别"}	
          ]
	});
 	$("a[id='maintain_material']",getElementContext()).on("dms.click",function(event){
		$("#maintain_material",container).dmsTable().refreshUrl(dmsCommon.getDmsPath()["retail"] + "/customer/insurance/maintainHistory/maintainHistoryProject/"+$("#RO_NO").val()+"/MaintainMaterial");
	 });
	 $("a[id='CampaignGoal']",getElementContext()).click();
		$("#RO_NO").bindChange(function(obj){
	    $("#maintain_material",container).dmsTable().refreshUrl(dmsCommon.getDmsPath()["retail"] + "/customer/insurance/maintainHistory/maintainHistoryProject/"+$("#RO_NO").val()+"/MaintainMaterial");
	});
});	
</script>