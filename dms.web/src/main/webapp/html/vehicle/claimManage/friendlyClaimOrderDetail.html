<div class="dms-edit ajaxrest" data-url="/friendlyClaimApply/repairQueryVehicle/{[VIN]}"
	data-model="vehicle">
	<form class="form-horizontal">
		<div class="modal-header">
			<div class="modal-title">维修工单明细</div>
			<div class="modal-close">
				<a data-dismiss="modal" class="btn btn-lg"> <i
					class="fa fa-remove"></i></a>
			</div>
		</div>
		<div class="modal-body">
			<div class="panel-heading">
			<div class="pannel-name" >车辆信息</div>
			</div>
			<div class="panel panel-default">
	    		<div class="modal-body">
					<div class="row">
									<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">VIN：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="VIN"></span>
								</div>
							</div>
						</div>
						

						
					
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">车型：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="MODEL_CODE"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">年款：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="MODEL_YEAR"></span>
								</div>
							</div>
						</div>
						
											
				
							
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">颜色：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="COLOR_NAME"></span>
								</div>
							</div>
						</div>	
						
							
						<div class="col-xs-12 col-sm-6">
								<div class="form-group">
									<label class="control-label col-xs-4">发动机号：</label>
									<div class="col-xs-8">
										<span class="form-show " data-fieldName="ENGINE_NO"></span>
									</div>
								</div>
							</div>
						
						<div class="col-xs-12 col-sm-6">
								<div class="form-group">
									<label class="control-label col-xs-4">保修开始日期：</label>
									<div class="col-xs-8">
										<span class="form-show " data-fieldName="PURCHASE_DATE"></span>
									</div>
								</div>
							</div>
						
						<div class="col-xs-12 col-sm-6">
								<div class="form-group">
									<label class="control-label col-xs-4">车牌号：</label>
									<div class="col-xs-8">
										<span class="form-show " data-fieldName="LICENSE"></span>
									</div>
								</div>
							</div>
						
						<div class="col-xs-12 col-sm-6">
								<div class="form-group">
									<label class="control-label col-xs-4">购车日期：</label>
									<div class="col-xs-8">
										<span class="form-show " data-fieldName="PURCHASE_DATE"></span>
									</div>
								</div>
							</div>
						
						
							
					
								
						
					</div>
				</div>
			</div>
		</div>
	</form>
</div>



<div class="dms-edit ajaxrest" data-url="/friendlyClaimApply/repairQuery/{[RO_NO]}"
	data-model="vehicle">
	<form class="form-horizontal">
		<div class="modal-body">
			<div class="panel-heading">
			<div class="pannel-name" >基本信息</div>
			</div>
			<div class="panel panel-default">
	    		<div class="modal-body">
					<div class="row">
						
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">维修工单号：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="REPAIR_NO"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">经销商代码：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="DEALER_CODE"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">经销商名称：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="DEALER_NAME"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">维修类型：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="REPAIR_DESC"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">维修日期：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="REPAIR_DATE"></span>
								</div>
							</div>
						</div>
						
						
					
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">里程数：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="MILLEAGE"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">服务顾问：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="REPAIR_MAN"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">制单人：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="CREATOR_NAME"></span>
								</div>
							</div>
						</div>
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">制单日期：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="MAKE_DATE"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">完工日期：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="FINISH_DATE"></span>
								</div>
							</div>
						</div>
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">结算日期：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="BALANCE_DATE"></span>
								</div>
							</div>
						</div>
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">客户姓名：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="CUSTOMER_NAME"></span>
								</div>
							</div>
						</div>
						
						
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">故障发生日期：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="FAULT_DATE"></span>
								</div>
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">故障描述：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="TROUBLE_DESC"></span>
								</div>
							</div>
						</div>
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="control-label col-xs-4">顾客描述：</label>
								<div class="col-xs-8">
									<span class="form-show " data-fieldName="CUSTOMER_DESC"></span>
								</div>
							</div>
						</div>
						
						
						
				
					</div>
				</div>
			</div>
		</div>
	</form>
</div>


<div class="dms-edit ajaxrest" >
	<form class="form-horizontal">
			<div class="modal-body">
			<div class="panel-heading">
			<div class="pannel-name" >维修项目信息</div>
			</div>
			<div class="panel panel-default">
				
																								
	<div class="panel panel-default table-panel">
			<div class="panel-heading">
				<div class="pannel-name" >服务活动零部件清单</div>
				<div class="pannel-button">
						<div class="btn-group btn-group-sm">			
						</div>
				</div>
			</div>
			 <div class="panel-body">
				<table class="table table-striped table-bordered table-hover table-responsive"
					id="partListTab"></table>
			</div> 
		</div>
		<div class="panel panel-default table-panel">
			<div class="panel-heading">
				<div class="pannel-name" >维修工时清单</div>
				<div class="pannel-button">
						<div class="btn-group btn-group-sm">			
						</div>
				</div>
			</div>
			<div class="panel-body">
				<table class="table table-striped table-bordered table-hover table-responsive"
					id="itemNoListTab"></table>
			</div>
		</div>
		
		<div class="panel panel-default table-panel">
			<div class="panel-heading">
				<div class="pannel-name" >其他项目清单</div>
				
			</div>
		 	<div class="panel-body">
				<table class="table table-striped table-bordered table-hover table-responsive"
					id="otherItemTab"></table>
			</div> 
		</div>		
																														
				
				</div>
			</div>
	
		<div class="modal-footer center-block">
			<a data-dismiss="modal" class="btn blue"><i class="fa fa-undo"></i>返回</a>
		</div>
	</form>
</div>

<script type="text/javascript">
$(document).one("onload.dms",function(event,container){

	new Datatable().initPagination({
		src : "partListTab",
		container:container,
		url : dmsCommon.getDmsPath()["vehicle"] + "/friendlyClaimApply/repairQueryPart/{[RO_NO]}",
		rowID : "",	
		sortName : "", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
		sortOrder : "",
		//isQueryFirst:false,
		autoHeight:false,
		columns : [     
		    {field : "IS_MAIN",title : "主因"},
		    {field : "PART_CODE",title : "零部件号"},
		    {field : "PART_NAME",title : "零部件名称"},	
		    {field : "PRICE",title : "单价(元)"},	
		    {field : "QUANTITY",title : "数量"},	
		    {field : "ACTIVITY_CODE",title : "活动编号"},
		    {field : "REMARK",title : "说明"}
		],
		onLoadSuccess : function() {
			$("#partListTab",container).dmsTable().bootstrapTable('resetView');
		}
	});
	
	new Datatable().initPagination({
		src : "itemNoListTab",
		container:container,
		url : dmsCommon.getDmsPath()["vehicle"] + "/friendlyClaimApply/repairQueryItem/{[RO_NO]}",
		rowID : "",
		sortName : "", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
		sortOrder : "",
		//isQueryFirst:false,
		autoHeight:false,
		columns : [     
		    {field : "LON",title : "维修代码"},
		    {field : "LABOUR_NAME",title : "维修项目"},	
		    {field : "FRT",title : "维修工时"}
		],
		onLoadSuccess : function() {
			$("#itemNoListTab",container).dmsTable().bootstrapTable('resetView');
		}
	});
	

	
	new Datatable().initPagination({
		src : "otherItemTab",
		container:container,
		url : dmsCommon.getDmsPath()["vehicle"] + "/friendlyClaimApply/repairQueryOther/{[RO_NO]}",
		rowID : "",
		sortName : "", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
		sortOrder : "",
		autoHeight:false,
			columns : [ 
			           {field : "ITEM_CODE",title : "项目代码"},
					   {field : "ITEM_NAME",title : "项目名称"},
					   {field : "ITEM_FEE",title : "项目费用（元）"},
					   {field : "ITEM_REMARK",title : "说明"}	
			],
			onLoadSuccess : function() {
				$("#otherItemTab",container).dmsTable().bootstrapTable('resetView');
			}
		});
	
	//新增页面的回调函数
	$("a[data-callBack='true']",container).on("callBack.dms",function(event,response){
		//关闭窗口
		$("a[data-dismiss='modal']",container).click();
		//刷新表格
		$("#dms_table",getElementContext()).dmsTable().refreshTableWithForm();
	});
	
});
</script>
