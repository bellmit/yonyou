<div class="dms-search">
	<form class="form-horizontal" >
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="row ">
					
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3" data-tableSelect="true">
						<div class="form-group">
								<label class="control-label col-xs-4">经销商代码</label>
								<div class="col-xs-8">
									<div class="input-group">
									<input id="dealerCode" readonly
										name="dealerCode" class="form-control" type="text"
										data-fieldName="dealer_code" /> <span
											class="input-group-btn" >
											<button class="btn default btn-sm" type="button"
												data-url="manage/basedata/dealers/searchAfterDealers.html"
												data-toggle="modal" data-width="modal-lg">
												<i class="fa fa-list-alt"></i>
											</button>
											<button class="btn default input-clear" type="button">
												<i class="fa fa-close"></i>
											</button>
										</span>
									</div>
								</div>
							</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">经销商名称</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" id="dealerName" name="dealerName">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">VIN</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" id="vin" name="vin">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
							<div class="form-group">
								<label class="control-label col-xs-4">车系名称</label>
								<div class="col-xs-8">
									<select id="seriesId"
										class="bs-select form-control" name="seriesId"
										data-url="/MvsFamilyMaintain/GetMVCCheXi"
										data-model="vehicle" data-labelValue="seriesId"
										data-lableDesc="seriesName">
									</select>
								</div>
							</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">车型代码</label>
							<div class="col-xs-8">
								<select id="modelId" parent="seriesId"
									class="bs-select form-control" name="modelId"
									data-url="/MvsFamilyMaintain/{[seriesId]}/getGroupCodes"
									data-model="vehicle" data-labelValue="MODEL_ID"
									data-lableDesc="MODEL_CODE" >
								</select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">车型名称</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" id="groupName" name="groupName">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">保修单号</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" id="wcCode" name="wcCode">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">ESIGI保修单号</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" id="wcCodeESIGI" name="wcCodeESIGI">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">工单号</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" id="repCode" name="repCode">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">保修单状态</label>
							<div class="col-xs-8">
								<select  class="form-control" id="status" name="status"  data-dictCode="8034" data-type="oemDict">
								</select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">ESIGI审核状态</label>
							<div class="col-xs-8">
								<select  class="form-control" id="statusESIGI" name="statusESIGI"  data-dictCode="8035" data-type="oemDict">
								</select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">商务保修</label>
							<div class="col-xs-8">
								<select  class="form-control" id="isNoRep" name="isNoRep"  data-dictCode="1004" data-type="oemDict">
								</select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">售前保修</label>
							<div class="col-xs-8">
								<select  class="form-control" id="isPresale" name="isPresale"  data-dictCode="1004" data-type="oemDict">
								</select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-12 col-md-8 col-lg-6">
						<div class="form-group">
							<label class="control-label col-xs-4 col-sm-2">申请日期</label>
							<div class="col-xs-8 ">
								 <div class="input-group input-daterange"  data-opens="right">
		                             <input type="text" class="form-control" readonly  name="startDate">
		                             <span class="input-group-addon">至</span>
		                             <input type="text" class="form-control" readonly  name="endDate">
		                             <span class="input-group-btn">
                                         <button class="btn default input-clear" type="button">
                                            <i class="fa fa-close"></i>
                                        </button>
                                      </span> 
		                        </div>
							</div>
						</div>
					</div>
				</div>
				<div class="row ">
					<div class="col-xs-12 ">
						<div class="query-btn">
							<a href="javascript:;" class="btn blue" data-onclickEvent="true"> <i
								class="fa fa-search" ></i> 查询
							</a> 
							<a href="javascript:;" class="btn blue"><i
								class="fa fa-undo"></i> 重置
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="panel panel-default table-panel">
			<div class="panel panel-default table-panel">
			
			
		<div class="panel-body">
			<table class="table table-striped table-bordered table-hover table-responsive"
				id="warrantyList"></table>
		</div>
	</div>
		
	</div>
	</form>
	
	
</div>
<script type="text/javascript">
 $(document).one("onload.dms",function(event,container){
	new Datatable().initPagination({
		src : "warrantyList",
		container:container,
		url : dmsCommon.getDmsPath()["vehicle"] + "/warrantyQueryOEM/warrantySearch",
		rowID : "ID",
		sortName : "ID",
		sortOrder : "desc",
		autoHeight:false,
		columns : [
			{field :"ID",title : "操作",operateFormat : [
			                                           {type:"edit",title:"明细",url:"vehicle/afterSales/warranty/wanrrantyDetail.html",openType:"jump",doubleClick:false },
			                                           {type:"del",title:"作废",url:"/warrantyQueryOEM/delete/{[WC_CODE]}",model:"vehicle",method:"PUT",operateIcon:'<i class="fa fa-lg fa-minus-square"></i>',
			                                        	   callBack:function(response){$("#warrantyList",getElementContext()).dmsTable().refreshTableWithForm();},
			                                        	   isShow:function(value, row, index){
	                                                    		  if(row.STATUS_ESIGI=="80351002"){
	                                                    			  return true;
	                                                    		  }else{
	                                                    			  return false;
	                                                    		  }
	                                                   	  		}
			                                           }
			                                           ]
		    },
		    {title: "经销商代码", field:'DEALER_CODE'},
			{title: "经销商名称", field:'DEALER_SHORTNAME'},
			{title: "保修单号", field:'WC_CODE'},
			{title: "ESIGI保修单号", field:'WC_CODE_ESIGI'},
			{title: "商务保修", field: 'IS_NO_REP',codeFormat : {type:"oemDict",codeType:"1004"}},
			{title: "结算单号", field: 'CACU_CODE'},
			{title: "工单号", field: 'REP_CODE'},
			{title: "VIN", field: 'VIN'},
			{title: "售前保修", field: 'IS_PRESALE',codeFormat : {type:"oemDict",codeType:"1004"}},
			{title: "保修单状态", field: 'STATUS',codeFormat : {type:"oemDict",codeType:"8034"}},
			{title: "ESIGI审核状态", field: 'STATUS_ESIGI',codeFormat : {type:"oemDict",codeType:"8035"}},
			{title: "上报ESIGI结果", field: 'SEND_STATUS',codeFormat : {type:"oemDict",codeType:"1004"}},
			{title: "申请日期", field: 'CREATE_DATE'}
		]
		
	});
	
});
    
</script>
