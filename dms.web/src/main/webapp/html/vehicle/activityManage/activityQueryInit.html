<div class="dms-search">
	<form class="form-horizontal" >
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="row ">
				
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4 ">活动系统编号</label>
							<div class="col-xs-8">
									<input type="text" class="form-control" id="activityCode" name="activityCode"/>
									
									 <input type="hidden" class="form-control" id="activityId1" name="activityId1"/>
									 <input type="hidden" class="form-control" id="activityCode1" name="activityCode1"/>
									 <input type="hidden" class="form-control" id="activityName1" name="activityName1"/>
									 <input type="hidden" class="form-control" id="globalActivityCode1" name="globalActivityCode1"/>
									 <input type="hidden" class="form-control" id="activityTitle1" name="activityTitle1"/>
									 <input type="hidden" class="form-control" id="activityType1" name="activityType1"/>
									 <input type="hidden" class="form-control" id="claimType1" name="claimType1"/>
									 <input type="hidden" class="form-control" id="startDate1" name="startDate1"/>
									 <input type="hidden" class="form-control" id="endDate1" name="endDate1"/>
									 <input type="hidden" class="form-control" id="summClosedate1" name="summClosedate1"/>
									 <input type="hidden" class="form-control" id="labourFee1" name="labourFee1"/>
									 <input type="hidden" class="form-control" id="partFee1" name="partFee1"/>
									 <input type="hidden" class="form-control" id="otherFee1" name="otherFee1"/>
									 <input type="hidden" class="form-control" id="isFee1" name="isFee1"/>
									 <input type="hidden" class="form-control" id="isMulti1" name="isMulti1"/>
									 <input type="hidden" class="form-control" id="chooseWay1" name="chooseWay1"/>
									 <input type="hidden" class="form-control" id="explans1" name="explans1"/>
									 <input type="hidden" class="form-control" id="guide1" name="guide1"/>            

							</div>
						</div>
					</div>

						<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
							<div class="form-group">
								<label class="control-label col-xs-4">开始日期</label>
								<div class="col-xs-8">
									<div class="input-group date date-picker" >
										<input id="startDate" name="startDate" readonly
											class="form-control"
											type="text" value="" /> <span class="input-group-btn">
											<button class="btn default date-set" type="button">
												<i class="fa fa-calendar"></i>
											</button>
                                              <button class="btn default date-reset" type="button">
                                                  <i class="fa fa-times"></i>
                                              </button>
										</span>

									</div>
								</div>
							</div>
						</div>	
	
						<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 ">
							<div class="form-group">
								<label class="control-label col-xs-4">结束日期</label>
								<div class="col-xs-8">
									<div class="input-group date date-picker" >
										<input id="endDate" name="endDate" readonly
											class="form-control"
											type="text" value="" /> <span class="input-group-btn">
											<button class="btn default date-set" type="button">
												<i class="fa fa-calendar"></i>
											</button>
                                              <button class="btn default date-reset" type="button">
                                                  <i class="fa fa-times"></i>
                                              </button>
										</span>

									</div>
								</div>
							</div>
						</div>
					
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">活动类别</label>
							<div class="col-xs-8">
								<select id="activityType" name="activityType" class="bs-select form-control" data-type="oemDict" data-dictCode="4015" >
								</select>
							</div>
						</div>
					</div>
									
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">活动状态</label>
							<div class="col-xs-8">
								<select id="activityStatus" name="activityStatus" class="bs-select form-control" data-type="oemDict" data-dictCode="4017"  data-excludeItems="40171002" >
								</select>
							</div>
						</div>
					</div>						

										
					
				</div>
				<div class="row ">
					<div class="col-xs-12 ">
						<div class="query-btn">
							<a href="javascript:;" class="btn blue" data-onclickEvent="true"> <i
								class="fa fa-search" ></i> 查询
							</a> 
							<a href="javascript:;" class="btn blue"><i
								class="fa fa-undo"></i> 重置
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
	<div class="panel panel-default table-panel">
			<div class="panel-heading">
				<div class="pannel-name" >信息列表</div>
				<div class="pannel-button">
						<div class="btn-group btn-group-sm">
							<a class="btn btn-outline" data-url="vehicle/activityManage/activityAdd.html" data-width="modal-lg" 
								data-toggle="modal"> <i class="fa fa-plus-square"></i> 新增
							</a> 

						</div>
				</div>
		</div>
		<div class="panel-body">
			<table class="table table-striped table-bordered table-hover table-responsive"
				id="orderList"></table>
		</div>
	</div>
	
</div>
<script type="text/javascript">

    $(document).one("onload.dms",function(event,container){
    	new Datatable().initPagination({
			src : "orderList",
			container:container,
			url : dmsCommon.getDmsPath()["vehicle"] + "/activityMaintain/activityQuery",
			rowID : "ACTIVITY_ID",
			//detailView : true, //当需要显示明细时，打开此开关，否则不需要写
			sortName : "STATUS,ACTIVITY_ID", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
			sortOrder : "DESC,DESC",
			isQueryFirst:false,
			//当需要开启显示明细时才实现，否则不实现
			detailFormatter : function(index, row, element) {
				return row.NAME;
			},
			columns : [ 
			    {field : "ACTIVITY_ID",title : "操作",inputField:"activityId", operateFormat : [
                       {type:"edit",url:"vehicle/activityManage/activityEdit.html",openWidth:"modal-lg",doubleClick:true,isShow:function(value, row, index){
                    	   if(row.STATUS=="40171001"){
                    		   return true;
                    	   }else{
                    		   return false;
                    	   }
                       },attr:'data-validateUrl="" data-validateMethod="" data-validateModel=""'}, //默认不支持双击操作
                     
                       {type:"detail",url:"vehicle/activityManage/activityInitDetail.html",openWidth:"modal-lg",isShow:function(value, row, index){
                     		   return true;                   	
                       }},//打开方式默认弹出:open
                        {type:"del",url:"/activityMaintain/activityDelete/{[ACTIVITY_ID]}",model:"vehicle",callBack:function(response){
                    	   $("#orderList",container).dmsTable().refreshTableWithForm();
                       },isShow:function(value, row, index){
                    	   if(row.STATUS=="40171001"){
                    		   return true;
                    	   }else{
                    		   return false;
                    	   }                    	   
                       }}
                       
                   ]
                },  
			    {field : "ACTIVITY_CODE",title : "活动系统编号"},
			    {field : "ACTIVITY_NAME",title : "活动名称"},
			    {field : "ACTIVITY_TYPE",title : "活动类别",codeFormat : {type:"oemDict",codeType:"4015"}},
			    {field : "STATUS",title : "活动状态",codeFormat : {type:"oemDict",codeType:"4017"}},
			    {field : "START_DATE",title : "开始时间"},
			    {field : "END_DATE",title : "结束时间"}
				
			],
			onLoadSuccess : function() {
				$("#orderList",container).dmsTable().bootstrapTable('resetView');
			}
		});
    	      	
    	//绑定查询按钮回调
		$("a[data-onclickEvent='true']",container).on("dms.click",function(event){
// 			console.log("into callBack");
		});
    	
    });
		


</script>
