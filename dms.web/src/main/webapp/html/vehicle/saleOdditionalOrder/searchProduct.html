<div class="dms-search">
	<form class="form-horizontal">
		<div class="modal-header">
			<div class="modal-title">车辆产品查询</div>
			<div class="modal-close">
				<a data-dismiss="modal" class="btn btn-lg">
				<i class="fa fa-remove"></i></a>
			</div>
		</div>
		<div class="modal-body">
					<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">品牌</label>
							<div class="col-xs-8">
								<select id="brands" class="bs-select form-control" data-ajaxSync = "true" name="brandName"
									data-url="/basedata/brandsdict" data-model="manage" 
									data-labelValue="BRAND_CODE" data-lableDesc="BRAND_NAME"
									data-alwaysRefresh="true">
								</select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">车系</label>
							<div class="col-xs-8">
								<select id="seriess" 
									class="bs-select form-control" data-ajaxSync = "true" name="seriesName"
									data-url="/basedata/selectSeries"
									data-model="manage" data-labelValue="SERIES_CODE"
									data-lableDesc="SERIES_NAME" data-alwaysRefresh="true">
								</select>
							</div>
						</div>
					</div>


					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">车型</label>
							<div class="col-xs-8">
								<select id="models" 
									class="bs-select form-control" data-ajaxSync = "true" name="modelName"
									data-url="/basedata/selectModel"
									data-model="manage" data-labelValue="MODEL_CODE"
									data-lableDesc="MODEL_NAME" data-alwaysRefresh="true">
								</select>
							</div>
						</div>
					</div>


					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">配置</label>
							<div class="col-xs-8">
								<select id="configCodes"  class="bs-select form-control" 
									name="configName" data-ajaxSync = "true"
									data-url="/basedata/selectConfig"
									data-model="manage" data-labelValue="CONFIG_CODE"
									data-lableDesc="CONFIG_NAME">
								</select>
							</div>
						</div>
					</div>

					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">颜色</label>
							<div class="col-xs-8">
								<select class="bs-select form-control" id="colors" 
									data-fieldName="COLOR" name="color" data-ajaxSync = "true"
									data-url="/basedata/colors/colorinfo/dicts" data-model="repair"
									data-labelValue="COLOR_CODE" data-lableDesc="COLOR_NAME">
								</select>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
						<div class="form-group">
							<label class="control-label col-xs-4">是否有效</label>
							<div class="col-xs-8">
								<select class="bs-select form-control" id="isValids" name="isValid"
									 data-dictCode="1278" data-value="12781001">
								</select>
							</div>
						</div>
					</div>
				</div>
			<div class="row ">
					<div class="col-xs-12 ">
						<div class="query-btn">
							<a href="javascript:;" class="btn blue"> <i
								class="fa fa-search"></i>查询
							</a>
							<a href="javascript:;" class="btn blue"> <i
								    class="fa fa-undo"></i>重置</a> 
						</div>
					</div>
				</div>
			<div class="panel panel-default table-panel">
			<div class="panel-heading">
				<div class="pannel-name" >产品信息</div>
			</div>
			<div class="panel-body">
				<table
					class="table table-striped table-bordered table-hover table-responsive"
					id="dms_table">
				</table>
			</div>
		</div>
		</div>
		<div class="modal-footer center-block">
			<a  class="btn blue" data-onclickEvent="true"><i class="fa fa-save"></i>确认</a> <a
				data-dismiss="modal" class="btn blue"><i
				class="fa fa-undo"></i>取消</a>
		</div>
	</form>
</div>
<script type="text/javascript">

	$(document).one("onload.dms",function(event,container){
	
		
		new Datatable().initPagination({
			src : "dms_table",
			url : dmsCommon.getDmsPath()["vehicle"] + "/basedata/vehicleMasterDatas",
			rowID : "PRODUCT_CODE",
			autoHeight : false,
			sortName : "PRODUCT_CODE", 
			undefinedText : "",
			sortOrder : "asc",
			checkboxHeader:true, //全选框
			columns : [ 
				{radio:true,sortable : false},
				{field : "PRODUCT_CODE",title : "产品代码"}, 
				{field : "PRODUCT_NAME",title : "产品名称"},
				{field : "CONFIG_NAME",title : "车辆配置"},
			 	{field : "CONFIG_CODE",title : "车辆配置"},
				{field : "BRAND_CODE",title : "品牌"},
				{field : "SERIES_CODE",title : "车系",visible : false},
				{field : "MODEL_CODE",title : "车型",visible : false},
				{field : "COLOR_CODE",visible : false},
				{field : "color_name",title : "车辆颜色"},
				{field : "VEHICLE_PRICE",title : "经销商销售价",numberFormat : {decimal:2}}, 
				{field : "DIRECTIVE_PRICE",title : "经销商销售价",visible : false},
				{field : "OEM_DIRECTIVE_PRICE",title : "车厂指导价"}, 
				{field : "WHOLESALE_DIRECTIVE_PRICE",title : "批售指导价",numberFormat : {decimal:2}},
				{field : "PRODUCT_STATUS",title : "产品状态",codeFormat : {type:"dict",codeType:"1278"}}, 
				{field : "OEM_TAG",title : "OEM标志",codeFormat : {type:"dict",codeType:"1278"}},
				{field : "REMARK",title : "备注"}
			]
			
		});
		
		$("a[data-onclickEvent='true']",container).on("dms.click",function(event,response){
			var selectRow = $("#dms_table",container).dmsTable().getFirstSelection();
			$("div[data-tableProductSelect='true']",getElementContext()).initHtmlContent(selectRow);
			/* $("div[data-tableSelect2='true']",getElementContext()).initHtmlContent(selectRow); */
			//关闭窗口
			$("a[data-dismiss='modal']",container).click();
		});
	});
</script>